<?php get_header(); ?><a href="<?php echo home_url('authors'); ?>" class="button mod-fab">  <span class="icon-left-open"></span>  All Authors</a><div class="post">    <div class="project-body">        <div class="author-header">            <div class="author-header-title"><?php the_author(); ?></div>        </div>        <div id="author_<?php the_author_meta( 'user_login' ); ?>" class="author_avatar" style="display:none;"></div>        <div class="author_shortbio">            <dl class="author_short_dl">                <?php if(get_the_author_meta('user_email')): ?>                <dt>E-mail:</dt>                <dd><a href="mailto:<?php the_author_meta('user_email'); ?>"><?php the_author_meta('user_email'); ?></a></dd>                <?php endif; ?>                <dt>GitHub:</dt>                <dd><i class="icon-github"></i> <a href="https://github.com/<?php the_author_meta('user_login'); ?>"><?php the_author_meta('user_login'); ?></a></dd>                <?php if(get_the_author_meta('user_url')): ?>                <dt>Website:</dt>                <dd><a href="<?php the_author_meta('user_url'); ?>" target="_blank"><?php the_author_meta('user_url'); ?></a></dd>                <?php endif; ?>            </dl>        </div>        <dl>            <?php if(get_the_author_meta('description')): ?>            <dt>Bio:</dt>            <dd><?php the_author_meta('description'); ?></dd>            <?php endif; ?>            <?php if(get_the_author_meta('wpcf-code-languages') || get_user_meta(get_the_author_meta('ID'), 'wpcf-other-language')): ?>            <dt>Codes in:</dt>            <dd>            <?php            $codes = array();            foreach(get_the_author_meta('wpcf-code-languages') as $opt){                $lang = $opt[0];                $codes[]  = '<span class="'.sanitize_title($lang).'">'.$lang.'</span>';            }            foreach(get_user_meta(get_the_author_meta('ID'), 'wpcf-other-language') as $lang){                $codes[]  = '<span class="'.sanitize_title($lang).'">'.$lang.'</span>';            }            echo implode(', ', $codes);            ?>            </dd>            <?php endif; ?>        </dl>        <?php        $gh_repos = array();        $args = array( 'author' => get_the_author_id(), 'post_type' => 'projects', 'posts_per_page' => -1 );        $loop = new WP_Query( $args );        if($loop->have_posts()): ?>        <h2 id="projects">Projects</h2>        <section>            <div class="showcase">                <?php while ( $loop->have_posts() ) : $loop->the_post();                    $data = array();                    foreach(get_post_meta(get_the_ID()) as $key => $var){                        if(substr($key, 0, 5) == 'wpcf-'){                            $data[$key] = $var[0];                        }                        if($key == 'wpcf-github-url'){                            $url_path = parse_url($var[0], PHP_URL_PATH);                            $gh_repos[get_the_ID()] = trim($url_path, '/');                        }                    }                    ?>                    <div class="showcase-wrapper">                        <a href="<?php echo $data['wpcf-github-url']; ?>" alt="See the <?php the_title(); ?> code" class="showcase-aside">                            <div id="gh-stars-<?php echo get_the_id(); ?>" class="showcase-aside-action">                                <div class="icon-star"></div>                            </div>                        </a>                        <a class="showcase-item" href="<?php the_permalink(); ?>">                        <div class="showcase-item-icon" style="background:<?php echo $data['wpcf-background-colour']; ?>">                        <?php if(isset($data['wpcf-project-logo'])) { ?>                            <img class="is-image" src="<?php echo $data['wpcf-project-logo']; ?>" width="48" height="48" alt="<?php the_title(); ?>">                        <?php } else if(isset($data['wpcf-project-symbol'])) { ?>                            <div class="is-icon <?php echo $data['wpcf-project-symbol']; ?>"></div>                        <?php } ?>                        </div>                        <div class="showcase-item-text">                            <span class="showcase-item-text-title"><?php the_title(); ?></span>                            <span class="showcase-item-text-subtitle"><?php echo $data['wpcf-project-tagline-short']; ?></span>                        </div>                        </a>                    </div>            <?php endwhile; ?>            </div>        </section>        <?php endif; ?>        <?php        // NEWS POSTS        // Currently not used, so commenting this out for now.        /*        if (have_posts()): ?>        <h2 id="news">News Posts</h2>        <?php while (have_posts()): the_post(); ?>            <h3><?php the_title(); ?></h3>            <?php the_excerpt(); ?>        <?php endwhile; endif;        */ ?>    </div></div><script>jQuery(function($) {    <?php foreach($gh_repos as $id => $repo){ ?>    $.getJSON('https://api.github.com/repos/<?php echo $repo; ?>', function(data) {        $('#gh-stars-<?php echo $id; ?>').append(data.stargazers_count);    });    <?php } ?>    $.getJSON('https://api.github.com/users/<?php the_author_meta( 'user_login' ); ?>', function(data) {        if(data.avatar_url !== undefined && data.avatar_url.length > 0){            $('#author_<?php the_author_meta( 'user_login' ); ?>').css('background-image', 'url("'+data.avatar_url+'")').fadeIn();        }    });});</script><?php get_footer(); ?>